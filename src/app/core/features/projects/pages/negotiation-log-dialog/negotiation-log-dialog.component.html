<h2 mat-dialog-title>Nuevo registro de bit치cora</h2>

<form [formGroup]="logForm" (ngSubmit)="createLog()" novalidate>
  <mat-dialog-content class="!pb-2">
    @if (dialogData.projectName) {
      <p class="text-sm mb-4">
        Proyecto: <strong>{{ dialogData.projectName }}</strong>
      </p>
    }

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Descripci칩n</mat-label>
      <textarea
        matInput
        rows="4"
        formControlName="description"
        placeholder="Describe el nuevo avance o novedad de la negociaci칩n"
      ></textarea>
      @if (f.description.touched && f.description.invalid) {
        <mat-error>Ingresa una descripci칩n de al menos 5 caracteres</mat-error>
      }
    </mat-form-field>
  </mat-dialog-content>

  <mat-dialog-actions align="end" class="px-6 pb-6">
    @if (createLogError) {
      <span class="text-sm text-error mr-auto">{{ createLogError }}</span>
    }
    <button mat-button type="button" (click)="close()" [disabled]="isCreatingLog">
      Cancelar
    </button>
    <button mat-flat-button color="primary" type="submit" [disabled]="isCreatingLog">
      @if (isCreatingLog) {
        Guardando...
      } @else {
        Guardar registro
      }
    </button>
  </mat-dialog-actions>
</form>
